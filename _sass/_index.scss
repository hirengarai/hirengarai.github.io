// =================================================================
// MAIN INDEX PAGE STYLES
// =================================================================
// Stylesheet for the homepage (index.html)
// Features:
// - Light/Dark theme using CSS variables
// - Falling characters background animation
// - Theme toggle button (fixed position)
// - Section navigation tabs
// - Tooltips with auto-positioning
// - Profile header layout
// - Publications and teaching tables
// - Footer with links
// - Responsive design for mobile/tablet/desktop
// =================================================================

// -----------------------------------------------------------------
// GLOBAL RESET
// -----------------------------------------------------------------
// Reset all elements to prevent browser inconsistencies
// -----------------------------------------------------------------
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

// -----------------------------------------------------------------
// PAGE LOAD FADE-IN
// -----------------------------------------------------------------
// Prevents flash of unstyled content (FOUC)
// JavaScript adds .loaded class when ready
// -----------------------------------------------------------------
        html {
    opacity: 0;
    transition: opacity 0.2s ease;
}

html.loaded {
    opacity: 1;
}

// -----------------------------------------------------------------
// CSS CUSTOM PROPERTIES (THEME VARIABLES)
// -----------------------------------------------------------------
// Light theme (default) - Professional clean aesthetic
// --bg: Background color
// --text: Main text color
// --link: Link color
// --border: Border and divider color
// --toggle-safe-right: Dynamic padding for theme toggle
// -----------------------------------------------------------------
        :root {
            --bg: #fafafa;                  // Light gray background
            --bg-subtle: #f5f5f5;           // Slightly darker background
            --text: #1a1a1a;                // Near-black text
            --text-secondary: #555;         // Gray secondary text
            --text-muted: #888;             // Lighter gray muted text
            --link: #2563eb;                // Blue links
            --link-hover: #1d4ed8;          // Darker blue on hover
            --border: #e5e5e5;              // Light gray borders
            --border-dark: #d0d0d0;         // Darker gray borders
            --toggle-safe-right: 0px;       // Safe area for theme toggle
        }

// -----------------------------------------------------------------
// DARK THEME OVERRIDES
// -----------------------------------------------------------------
// Dark theme colors when [data-theme="dark"] is applied to <html>
// Activated by theme toggle or system preference
// -----------------------------------------------------------------
        [data-theme="dark"] {
            --bg: #121212;                  // Almost black background
            --bg-subtle: #1e1e1e;           // Slightly lighter background
            --text: #e5e5e5;                // Light gray text
            --text-secondary: #aaa;         // Medium gray secondary text
            --text-muted: #777;             // Darker gray muted text
            --link: #60a5fa;                // Light blue links
            --link-hover: #93c5fd;          // Lighter blue on hover
            --border: #333;                 // Dark gray borders
            --border-dark: #444;            // Lighter dark gray borders
        }

// -----------------------------------------------------------------
// HTML & BODY BASE STYLES
// -----------------------------------------------------------------
// Sets up the basic document styling and behavior
// -----------------------------------------------------------------
        html {
            scroll-behavior: smooth;                // Smooth scrolling for anchor links
            overflow-x: hidden;                     // Prevent horizontal scroll
            background-color: var(--bg);
            color: var(--text);
        }

        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.7;                       // Readable line height
            font-size: 16px;                        // Base font size
            overflow-x: hidden;                     // Prevent horizontal scroll
            position: relative;                     // For absolute child positioning
        }

// -----------------------------------------------------------------
// SUBTLE BACKGROUND PATTERN
// -----------------------------------------------------------------
// Adds a subtle dotted pattern to the background
// Uses ::after pseudo-element to avoid affecting content
// Different opacity for light vs dark theme
// -----------------------------------------------------------------
        body::after {
            content: '';
            position: fixed;                        // Fixed to viewport
            inset: 0;                               // Cover entire viewport
            background:
                repeating-radial-gradient(circle at 20% 30%, rgba(0, 0, 0, 0.06) 0 1px, transparent 1px 3px);
            opacity: 0.45;                          // Light theme opacity
            pointer-events: none;                   // Don't block clicks
            z-index: 0;                             // Behind content
        }

        // Dark theme: lighter pattern, lower opacity
        [data-theme="dark"] body::after {
            background:
                repeating-radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.08) 0 1px, transparent 1px 3px);
            opacity: 0.3;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        a {
            color: var(--link);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
            text-underline-offset: 3px;
        }

        [data-tip] {
            position: relative;
        }

        .tooltip-bubble {
            position: fixed;
            background: color-mix(in srgb, var(--text) 92%, transparent);
            color: var(--bg);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.65rem;
            letter-spacing: 0.3px;
            padding: 3px 7px;
            border-radius: 3px;
            border: 1px solid var(--text);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            white-space: nowrap;
            z-index: 2000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.15s ease;
        }

        [data-theme="dark"] .tooltip-bubble {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .tooltip-bubble.visible {
            opacity: 1;
        }

        @media (hover: none), (pointer: coarse) {
            .tooltip-bubble {
                display: none;
            }

            .publication-list [data-tip],
            .publication-venue[data-tip] {
                pointer-events: none;
            }
        }

        audio {
            display: none;
        }

        .container {
            max-width: 940px;
            margin: 0 auto;
            padding: 40px 24px;
            padding-right: calc(24px + var(--toggle-safe-right));
            position: relative;
            z-index: 2;
        }

        /* Falling characters background */
        .falling-chars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .falling-char {
            position: absolute;
            top: -60px;
            font-family: 'Latin Modern Math', 'STIX Two Math', serif;
            color: var(--text);
            opacity: 0.08;
            user-select: none;
            pointer-events: none;
            will-change: transform;
            backface-visibility: hidden;
            filter: blur(0.2px);
        }

        [data-theme="dark"] .falling-char {
            opacity: 0.12;
        }

        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.14;
            }

            90% {
                opacity: 0.14;
            }

            100% {
                transform: translateY(110vh) rotate(25deg);
                opacity: 0;
            }
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(245, 245, 245, 0.8);
            backdrop-filter: blur(1px);
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 100;
            padding: 0;
            overflow: hidden;
        }

        [data-theme="dark"] .theme-toggle {
            background: rgba(30, 30, 30, 0.8);
        }

        .theme-toggle .icon-sun,
        .theme-toggle .icon-moon {
            position: absolute;
            font-size: 20px;
            color: var(--text);
            transition: opacity 0.3s ease, transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .theme-toggle .icon-sun {
            opacity: 1;
            transform: rotate(0deg);
        }

        .theme-toggle .icon-moon {
            opacity: 0;
            transform: rotate(-90deg);
        }

        [data-theme="dark"] .theme-toggle .icon-sun {
            opacity: 0;
            transform: rotate(90deg);
        }

        [data-theme="dark"] .theme-toggle .icon-moon {
            opacity: 1;
            transform: rotate(0deg);
        }

        @media (max-width: 700px) {
            /* .theme-toggle {
                top: 12px;
                right: 12px;
                width: 36px;
                height: 36px;
            } */

            .theme-toggle {
                top: auto;
                bottom: 20px;
                right: 20px;
                left: auto;
                width: 36px;
                height: 36px;
            }

            .theme-toggle .icon-sun,
            .theme-toggle .icon-moon {
                font-size: 18px;
            }

        }

        @media (max-width: 700px) {
            .container {
                padding-bottom: 96px;
            }
        }

        @media (max-width: 700px) {
            :root {
                --toggle-safe-right: 0px;
            }
        }

        @media (min-width: 701px) {
            :root {
                --toggle-safe-right: clamp(0px, 6vw, 116px);
            }
        }

        /* Header Layout */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            gap: 40px;
            margin-bottom: 32px;
            padding-bottom: 32px;
            position: relative;
        }

        .header::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, var(--border-dark), var(--border), transparent);
        }

        .header-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-shrink: 0;
        }


        .header-info {
            text-align: right;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .name-bengali {
            font-family: 'Noto Serif Bengali', serif;
            font-size: 1.5rem;
            color: var(--text);
            font-weight: 600;
            margin-bottom: 4px;
        }

        .name-official {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 4px;
        }

        .header-email {
            font-size: 0.875rem;
        }

        .name-casual {
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        .name-casual em {
            color: var(--link);
            font-family: 'Indie Flower', cursive;
            font-size: 1.3rem;
            font-style: normal;
            cursor: pointer;
            transition: color 0.2s ease;
            position: relative;
            margin-left: 6px;
        }

        .name-audio {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .name-audio .fa-volume-high {
            font-size: 0.75rem;
            color: var(--text-muted);
            transition: color 0.2s ease;
            transform: translateY(1px);
        }

        .name-casual em:hover {
            color: var(--link-hover);
        }

        .name-casual em:hover .fa-volume-high {
            color: var(--link);
        }

        /* Tooltip for name */
        .name-casual em::after {
            content: attr(data-tooltip);
            position: absolute;
            left: calc(100% + 8px);
            top: 50%;
            transform: translateY(-50%);
            background: color-mix(in srgb, var(--text) 92%, transparent);
            color: var(--bg);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.65rem;
            padding: 3px 7px;
            border-radius: 3px;
            border: 1px solid var(--text);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            pointer-events: none;
            z-index: 50;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        [data-theme="dark"] .name-casual em::after {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .name-casual em:hover::after {
            opacity: 1;
            visibility: visible;
        }

        @media (hover: none), (pointer: coarse) {
            .name-casual em::after {
                display: none;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .profile-figure {
            position: relative;
            display: inline-block;
        }

        .profile-image {
            width: 120px;
            height: 120px;
            border-radius: 8px;
            object-fit: cover;
            border: 1px solid var(--border);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .profile-figure:hover .profile-image {
            transform: translateY(-2px);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.15);
        }

        .profile-tooltip {
            position: absolute;
            left: 50%;
            top: calc(100% + 8px);
            transform: translateX(-50%);
            background: color-mix(in srgb, var(--text) 92%, transparent);
            border: 1px solid var(--text);
            color: var(--bg);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.65rem;
            letter-spacing: 0.3px;
            padding: 3px 7px;
            border-radius: 3px;
            width: max-content;
            max-width: min(200px, calc(100vw - 48px));
            line-height: 1.4;
            white-space: normal;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 80;
            text-align: center;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        [data-theme="dark"] .profile-tooltip {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .profile-figure:hover .profile-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .profile-tooltip.tooltip-active {
            opacity: 1;
            visibility: visible;
        }


        /* Mobile header */
        @media (max-width: 700px) {
            .header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }

            .header-left {
                order: 2;
            }

            .header-right {
                order: 1;
                flex-direction: column;
                gap: 12px;
            }

            .header-info {
                text-align: center;
                order: 2;
            }

            .profile-image {
                order: 1;
            }

            .name-bengali {
                font-size: 1.125rem;
            }

            .name-casual {
                text-align: center;
            }

            .name-casual em::after {
                left: 50%;
                top: calc(100% + 6px);
                transform: translateX(-50%);
            }
        }

        /* Greeting */
        .greeting-wrapper {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .greeting {
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            color: var(--text-secondary);
        }

        .greeting-info {
            position: relative;
            display: inline-flex;
            align-items: center;
            margin-top: 8px;
        }

        .greeting-info-btn {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: transparent;
            color: var(--text-muted);
            font-size: 18px;
            font-family: 'Material Symbols Outlined', sans-serif;
            cursor: default;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            padding: 0;
            line-height: 1;
        }

        .greeting-info:hover .greeting-info-btn {
            color: var(--link);
        }

        .greeting-tooltip {
            position: absolute;
            left: calc(100% + 6px);
            top: 50%;
            transform: translateY(-50%);
            background: color-mix(in srgb, var(--text) 92%, transparent);
            border: 1px solid var(--text);
            color: var(--bg);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.65rem;
            padding: 3px 7px;
            border-radius: 3px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 100;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        [data-theme="dark"] .greeting-tooltip {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .greeting-tooltip::before {
            content: "";
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            border-width: 6px;
            border-style: solid;
            border-color: transparent var(--text) transparent transparent;
        }

        .greeting-tooltip::after {
            content: "";
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: transparent var(--text) transparent transparent;
            margin-right: -1px;
        }

        .greeting-info:hover .greeting-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .greeting-tooltip.tooltip-active {
            opacity: 1;
            visibility: visible;
        }

        @media (max-width: 500px) {
            .greeting-tooltip {
                position: absolute;
                left: 0;
                top: calc(100% + 8px);
                transform: none;
                white-space: nowrap;
                text-align: left;
            }

            .greeting-tooltip::before {
                right: auto;
                left: 12px;
                top: -6px;
                bottom: auto;
                transform: rotate(90deg);
            }

            .greeting-tooltip::after {
                right: auto;
                left: 13px;
                top: -5px;
                bottom: auto;
                transform: rotate(90deg);
            }

            .greeting-info {
                position: relative;
            }
        }

        .intro-text {
            color: var(--text-secondary);
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .main-content {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Section Navigation - Fixed Width Tabs */
        .section-nav {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .section-tab {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 140px;
            padding: 14px 20px;
            background: color-mix(in srgb, var(--bg-subtle) 88%, transparent);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.9375rem;
            font-weight: 400;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background 0.25s ease, border-color 0.25s ease, color 0.25s ease;
            text-decoration: none;
            backdrop-filter: blur(2.5px);
            -webkit-backdrop-filter: blur(2.5px);
        }

        .section-tab .tab-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--tab-color);
        }

        .section-tab .tab-icon svg {
            width: 100%;
            height: 100%;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        .section-tab .tab-icon i {
            font-size: 18px;
            line-height: 1;
            color: currentColor;
        }

        .section-tab[data-section="work"] {
            --tab-color: #7c3aed;
            --tab-bg: rgba(124, 58, 237, 0.12);
        }

        [data-theme="dark"] .section-tab[data-section="work"] {
            --tab-color: #a78bfa;
            --tab-bg: rgba(167, 139, 250, 0.15);
        }

        .section-tab[data-section="academic"] {
            --tab-color: #2563eb;
            --tab-bg: rgba(37, 99, 235, 0.12);
        }

        [data-theme="dark"] .section-tab[data-section="academic"] {
            --tab-color: #60a5fa;
            --tab-bg: rgba(96, 165, 250, 0.15);
        }

        .section-tab[data-section="research"] {
            --tab-color: #0891b2;
            --tab-bg: rgba(8, 145, 178, 0.12);
        }

        [data-theme="dark"] .section-tab[data-section="research"] {
            --tab-color: #22d3ee;
            --tab-bg: rgba(34, 211, 238, 0.15);
        }

        .section-tab[data-section="teaching"] {
            --tab-color: #ea580c;
            --tab-bg: rgba(234, 88, 12, 0.12);
        }

        [data-theme="dark"] .section-tab[data-section="teaching"] {
            --tab-color: #fb923c;
            --tab-bg: rgba(251, 146, 60, 0.15);
        }

        .section-tab:hover,
        .section-tab.active {
            background: var(--tab-bg);
            border-color: var(--tab-color);
            color: var(--tab-color);
            text-decoration: none;
        }

        @media (max-width: 500px) {
            .section-tab {
                min-width: 100px;
                padding: 12px 14px;
                font-size: 0.875rem;
            }
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .content-section.active {
            display: block;
        }

        .section-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 20px;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .section-icon svg {
            width: 22px;
            height: 22px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        .section-icon i {
            font-size: 20px;
            line-height: 1;
            color: currentColor;
        }

        #work .section-icon {
            background: rgba(124, 58, 237, 0.12);
            color: #7c3aed;
        }

        [data-theme="dark"] #work .section-icon {
            background: rgba(167, 139, 250, 0.15);
            color: #a78bfa;
        }

        #academic .section-icon {
            background: rgba(37, 99, 235, 0.12);
            color: #2563eb;
        }

        [data-theme="dark"] #academic .section-icon {
            background: rgba(96, 165, 250, 0.15);
            color: #60a5fa;
        }

        #research .section-icon {
            background: rgba(8, 145, 178, 0.12);
            color: #0891b2;
        }

        [data-theme="dark"] #research .section-icon {
            background: rgba(34, 211, 238, 0.15);
            color: #22d3ee;
        }

        .section-title {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 1.375rem;
            font-weight: 600;
            color: var(--text);
        }

        .section-subtitle {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .section-content {
            padding-left: 56px;
        }

        @media (max-width: 600px) {
            .section-content {
                padding-left: 0;
            }
        }

        .section-content p {
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .section-divider {
            position: relative;
            padding-bottom: 10px;
            margin: 24px 0 12px;
            color: var(--text);
            font-size: 1rem;
        }

        .section-divider::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 85%;
            height: 1px;
            background: linear-gradient(90deg, var(--border-dark), transparent);
        }

        /* Position Items */
        .position-item {
            margin-bottom: 24px;
            padding-bottom: 24px;
            position: relative;
        }

        .position-item:last-child {
            padding-bottom: 0;
        }

        .position-item::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 85%;
            height: 1px;
            background: linear-gradient(90deg, var(--border-dark), transparent);
        }

        .position-item:last-child::after {
            display: none;
        }

        .position-title {
            font-weight: 600;
            font-size: 1.05rem;
            color: var(--text);
            margin-bottom: 4px;
        }

        .position-org {
            color: var(--link);
            font-size: 0.9375rem;
        }

        .position-period {
            font-size: 0.8125rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .position-desc {
            font-size: 0.9375rem;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* Education Items */
        .education-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .education-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .education-degree {
            font-weight: 600;
            font-size: 1.05rem;
            color: var(--text);
            display: inline-block;
        }

        .education-degree::after {
            content: " Â· ";
            color: var(--text-muted);
            margin: 0 4px;
        }

        .education-institution {
            color: var(--link);
            font-size: 0.9rem;
        }

        .education-details {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* TA Table */
        .ta-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.84rem;
            table-layout: auto;
        }

        .ta-table-wrapper {
            width: 100%;
            border: 1px solid var(--border);
            border-radius: 10px;
        }

        .ta-table th {
            text-align: center;
            padding: 8px 10px;
            border-bottom: 2px solid var(--border);
            border-right: 1px solid var(--border);
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.72rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        .ta-table td {
            padding: 10px 10px;
            border-bottom: 1px solid var(--border);
            border-right: 1px solid var(--border);
            color: var(--text-secondary);
            text-align: center;
            white-space: nowrap;
        }

        @supports (background: color-mix(in srgb, #000 50%, #fff)) {
            .ta-table th,
            .ta-table td {
                border-right: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
            }
        }

        .ta-table td.course-name {
            white-space: normal;
        }

        .ta-table td:nth-child(2) {
            white-space: normal;
        }

        .ta-table td:nth-child(3) {
            white-space: normal;
        }

        .ta-table th:nth-child(1),
        .ta-table td:nth-child(1) {
            text-align: left;
            max-width: 300px;
        }

        .ta-table th:nth-child(2),
        .ta-table td:nth-child(2) {
            text-align: center;
            width: 1%;
            white-space: nowrap;
        }

        .ta-table th:nth-child(3),
        .ta-table td:nth-child(3) {
            text-align: center;
            width: 1%;
            white-space: nowrap;
        }

        .ta-table th:nth-child(4),
        .ta-table td:nth-child(4) {
            text-align: center;
            width: 1%;
        }

        @media (max-width: 900px) {
            .ta-table-wrapper {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .ta-table-wrapper .ta-table {
                min-width: 720px;
            }
        }

        .ta-table th:last-child,
        .ta-table td:last-child {
            border-right: none;
        }

        .ta-table tr:last-child td {
            border-bottom: none;
        }

        .ta-table .course-name {
            color: var(--text);
            font-weight: 500;
        }

        .ta-table .ta-link {
            color: var(--link);
            text-decoration: none;
        }

        .ta-table .ta-link--small {
            display: block;
            font-size: 0.75rem;
            letter-spacing: 0.2px;
            text-align: center;
            width: 100%;
        }

        .ta-table .ta-link:hover {
            text-decoration: underline;
        }

        /* Teaching section orange accent */
        .teaching-icon {
            background: rgba(234, 88, 12, 0.12) !important;
            color: #ea580c;
        }

        [data-theme="dark"] .teaching-icon {
            background: rgba(251, 146, 60, 0.15) !important;
            color: #fb923c;
        }

        #teaching .section-title {
            color: #ea580c;
        }

        [data-theme="dark"] #teaching .section-title {
            color: #fb923c;
        }

        /* Research Topics */
        .research-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 24px;
        }

        .topic-tag {
            background: var(--bg-subtle);
            border: 1px solid var(--border);
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.8125rem;
            color: var(--text-secondary);
        }

        /* Publications */
        .publication-list {
            list-style: none;
        }

        .publication-item {
            padding: 16px 0;
            border-bottom: 1px solid var(--border);
        }

        .publication-item:last-child {
            border-bottom: none;
        }

        .publication-title {
            color: var(--link);
            text-decoration: none;
            font-weight: 500;
            line-height: 1.5;
        }

        .publication-title:hover {
            text-decoration: underline;
            text-underline-offset: 3px;
        }

        .publication-meta {
            font-size: 0.8125rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .publication-venue {
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* DBLP Full List */
        .full-list-divider {
            height: 1px;
            background: linear-gradient(90deg, var(--border), transparent);
            margin: 24px 0;
        }

        .full-list {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .full-list p {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin: 0;
        }

        .dblp-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.8125rem;
            transition: all 0.2s;
        }

        .dblp-button:hover {
            border-color: var(--link);
            color: #fff;
            background: var(--link);
            text-decoration: none;
        }

        .dblp-button:active {
            border-color: var(--link-hover);
            background: var(--link-hover);
            color: #fff;
        }

        .dblp-button .dblp-icon {
            width: 18px;
            height: 18px;
            display: inline-block;
            object-fit: contain;
            filter: grayscale(1);
            transition: filter 0.2s ease;
        }

        .dblp-button:hover .dblp-icon {
            filter: none;
        }

        /* Footer Links */
        .footer-links {
            display: flex;
            flex-wrap: wrap;
            gap: 8px 24px;
            padding-top: 24px;
            font-size: 0.9375rem;
            margin-top: 40px;
            align-items: center;
            position: relative;
        }

        .footer-links::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, var(--border-dark), var(--border), transparent);
        }

        .footer-credit {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 0.75rem;
            white-space: nowrap;
        }

        .footer-credit .fa-copyright {
            font-size: 0.65em;
        }

        @media (max-width: 420px) {
            .footer-links {
                gap: 10px 16px;
                font-size: 0.85rem;
                padding-top: 18px;
            }

            .footer-links::before {
                background: linear-gradient(90deg, var(--border-dark), var(--border));
            }

            .footer-credit {
                margin-left: 0;
                flex-basis: 100%;
                font-size: 0.7rem;
                white-space: normal;
            }
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .footer-links a:hover {
            color: var(--link);
        }

        .footer-links .fun-link {
            color: var(--link);
            font-weight: 500;
        }

        .footer-links .fun-link:hover {
            text-decoration: underline;
        }
